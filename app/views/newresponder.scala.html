@(myForm: Form[controllers.Responders.CreateResponder],name:String)
@import MyHelpers._

@main("Mock Server") {

<form class="form-inline">
    <input type="text" id="header_name" name="header_name" value="" placeholder="Header Name">
    <input type="text" id="header_value" name="header_value" value="" placeholder="Header Value">
    <a class="btn" id="addHeader">Add</a>
</form>

<ul id="headers"></ul>
@helper.form(action = routes.Responders.submit(name),'id -> "createResponderForm") {

        @helper.textarea(myForm("body"),'_label -> "Response Body",'class -> "input-xxlarge")

        <div class="form-actions">
            <button type="submit" class="btn">create</button>
        </div>

     }

}

<script src="@routes.Assets.at("javascripts/app.js")" type="text/javascript"></script>

<script type="text/javascript">
$(new function() {
@(myForm.value.map {f=>f.headers.map{header=>"window.addHeader(\'"+header.name+"\',\'"+header.value+"\');"}}.getOrElse(""))
})
</script>
